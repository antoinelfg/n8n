FROM node:20

ENV N8N_VERSION=1.21.1
ENV NODE_ENV=production
ENV N8N_BASIC_AUTH_ACTIVE=true
ENV N8N_BASIC_AUTH_USER=admin
ENV N8N_BASIC_AUTH_PASSWORD=changeme
ENV WEBHOOK_URL=https://your-url.up.railway.app
ENV N8N_PORT=5678
ENV N8N_HOST=0.0.0.0

RUN npm install -g n8n@${N8N_VERSION}

EXPOSE 5678

CMD ["n8n"]
